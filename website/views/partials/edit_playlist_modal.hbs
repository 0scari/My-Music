<div class="modal fade" id="editPlaylistModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content modal-info" style="width: 400px">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body modal-spa">
                <div class="sign-grids">
                    <div class="sign-right" style="width: 300px">
                        <form action="" method="get" id="editPlaylistForm">
                            <h3> {{playlist.name}} </h3>
                            <input name='name' type="text" value="{{playlist.name}}"
                                   onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '';}" required>
                            <label for="playlistPic" style="padding-top: 10px">Playlist image</label>
                            <input name='file' type="file" class="form-control-file" id="playlistPic" aria-describedby="fileHelp" >
                            <input type="submit" value="Save" >
                        </form>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script  type="application/javascript">
    $('#editPlaylistForm').find('[type=submit]').on('click', function (e) {
        e.preventDefault()
        const formData = new FormData($('#editPlaylistForm')[0]);
        $.ajax({
            url: '/playlist/' + {{ playlist.id }},
            type: 'PUT',
            cache: false,
            contentType: false,
            processData: false,
            data: formData
        }).then(
                () => $(location).attr('href', '/playlist/' + {{playlist.id}}),
                err => console.error(err)
        )
    })
</script>
